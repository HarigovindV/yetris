#include "piece_definitions.h"

char global_pieces[7][4][5][5] =
{
	/* O (square) */
	{
		{
			{0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0},
			{0, 0, 2, 1, 0},
			{0, 0, 1, 1, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0},
			{0, 0, 2, 1, 0},
			{0, 0, 1, 1, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0},
			{0, 0, 2, 1, 0},
			{0, 0, 1, 1, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0},
			{0, 0, 2, 1, 0},
			{0, 0, 1, 1, 0},
			{0, 0, 0, 0, 0}
		}
	},
	/* I */
	{
		{
			{0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0},
			{0, 1, 2, 1, 1},
			{0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 0, 1, 0, 0},
			{0, 0, 2, 0, 0},
			{0, 0, 1, 0, 0},
			{0, 0, 1, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0},
			{1, 1, 2, 1, 0},
			{0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 1, 0, 0},
			{0, 0, 1, 0, 0},
			{0, 0, 2, 0, 0},
			{0, 0, 1, 0, 0},
			{0, 0, 0, 0, 0}
		}
	},
	/* L */
	{
		{
			{0, 0, 0, 0, 0},
			{0, 0, 0, 1, 0},
			{0, 1, 2, 1, 0},
			{0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 0, 1, 0, 0},
			{0, 0, 2, 0, 0},
			{0, 0, 1, 1, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0},
			{0, 1, 2, 1, 0},
			{0, 1, 0, 0, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 1, 1, 0, 0},
			{0, 0, 2, 0, 0},
			{0, 0, 1, 0, 0},
			{0, 0, 0, 0, 0}
		}
	},
	/* J */
	{
		{
			{0, 0, 0, 0, 0},
			{0, 1, 0, 0, 0},
			{0, 1, 2, 1, 0},
			{0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 0, 1, 1, 0},
			{0, 0, 2, 0, 0},
			{0, 0, 1, 0, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0},
			{0, 1, 2, 1, 0},
			{0, 0, 0, 1, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 0, 1, 0, 0},
			{0, 0, 2, 0, 0},
			{0, 1, 1, 0, 0},
			{0, 0, 0, 0, 0}
		}
	},
	/* S */
	{
		{
			{0, 0, 0, 0, 0},
			{0, 1, 1, 0, 0},
			{0, 0, 2, 1, 0},
			{0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 0, 0, 1, 0},
			{0, 0, 2, 1, 0},
			{0, 0, 1, 0, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0},
			{0, 1, 2, 0, 0},
			{0, 0, 1, 1, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 0, 1, 0, 0},
			{0, 1, 2, 0, 0},
			{0, 1, 0, 0, 0},
			{0, 0, 0, 0, 0}
		}
	},
	/* Z */
	{
		{
			{0, 0, 0, 0, 0},
			{0, 0, 1, 1, 0},
			{0, 1, 2, 0, 0},
			{0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 0, 1, 0, 0},
			{0, 0, 2, 1, 0},
			{0, 0, 0, 1, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0},
			{0, 0, 2, 1, 0},
			{0, 1, 1, 0, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 1, 0, 0, 0},
			{0, 1, 2, 0, 0},
			{0, 0, 1, 0, 0},
			{0, 0, 0, 0, 0}
		}
	},
	/* T */
	{
		{
			{0, 0, 0, 0, 0},
			{0, 0, 1, 0, 0},
			{0, 1, 2, 1, 0},
			{0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 0, 1, 0, 0},
			{0, 0, 2, 1, 0},
			{0, 0, 1, 0, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 0, 0, 0, 0},
			{0, 1, 2, 1, 0},
			{0, 0, 1, 0, 0},
			{0, 0, 0, 0, 0}
		},
		{
			{0, 0, 0, 0, 0},
			{0, 0, 1, 0, 0},
			{0, 1, 2, 0, 0},
			{0, 0, 1, 0, 0},
			{0, 0, 0, 0, 0}
		}
	}
};

char global_pieces_position[7][4][2] =
{
	/* O */
	{
		{-2, -4},
		{-2, -4},
		{-2, -4},
		{-2, -4}
	},
	/* I */
	{
		{-2, -3},
		{-2, -4},
		{-2, -3},
		{-2, -4}
	},
	/* L */
	{
		{-2, -3},
		{-2, -3},
		{-2, -3},
		{-2, -2}
	},
	/* J */
	{
		{-2, -3},
		{-2, -2},
		{-2, -3},
		{-2, -3}
	},
	/* S */
	{
		{-2, -3},
		{-2, -3},
		{-2, -3},
		{-2, -2}
	},
	/* Z */
	{
		{-2, -3},
		{-2, -3},
		{-2, -3},
		{-2, -2}
	},
	/* T */
	{
		{-2, -3},
		{-2, -3},
		{-2, -3},
		{-2, -2}
	}
};

char srs_possible_positions[2][2][4][5][2] =
{
	/* J, L, S, T, Z */
	{
		/* clockwise */
		{
			/* 0 -> R */
			{
				{ 0,  0},
				{-1,  0},
				{-1, -1},
				{ 0,  2},
				{-1,  2},
			},
			/* R -> 2 */
			{
				{ 0,  0},
				{ 1,  0},
				{ 1,  1},
				{ 0, -2},
				{ 1, -2}
			},
			/* 2 -> L */
			{
				{ 0,  0},
				{ 1,  0},
				{ 1, -1},
				{ 0,  2},
				{ 1,  2}
			},
			/* L -> 0 */
			{
				{ 0,  0},
				{-1,  0},
				{-1,  1},
				{ 0, -2},
				{-1, -2}
			}
		},
		/* counter-clockwise */
		{
			/* 0 -> L */
			{
				{ 0,  0},
				{ 1,  0},
				{ 1, -1},
				{ 0,  2},
				{ 1,  2}
			},
			/* L -> 2 */
			{
				{ 0,  0},
				{-1,  0},
				{-1,  1},
				{ 0, -2},
				{-1, -2}
			},
			/* 2 -> R */
			{
				{ 0,  0},
				{-1,  0},
				{-1, -1},
				{ 0,  2},
				{-1,  2}
			},
			/* R -> 0 */
			{
				{ 0,  0},
				{ 1,  0},
				{ 1,  1},
				{ 0, -2},
				{ 1, -2}
			}
		}
	},
	/* I */
	{
		/* clockwise */
		{
			/* 0 -> R */
			{
				{-1,  0},
				{ 1,  0},
				{-2,  0},
				{ 1, -1},
				{-2,  2}
			},
			/* R -> 2 */
			{
				{-1,  0},
				{ 1, -1},
				{-2, -1},
				{ 1,  1},
				{-2,  2}
//				{ 2,  0}

			},
			/* 2 -> L */
			{
				{ 1,  0},
				{-1,  0},
				{-2,  0},
				{-1,  1},
				{-2, -2}
			},
			/* L -> 0 */
			{
				{ 0,  1},
				{-1,  1},
				{ 2,  1},
				{-1, -1},
				{ 2,  2}
			}
		},
		/* counter-clockwise */
		{
			/* 0 -> L */
			{
				{ 0, -1},
				{ 1, -1},
				{-2, -1},
				{ 1,  1},
				{-2, -2}
			},
			/* L -> 2 */
			{
				{-1,  0},
				{ 1,  0},
				{-2,  0},
				{ 1, -1},
				{-2,  2}
			},
			/* 2 -> R */
			{
				{ 0,  1},
				{-1, -1},
				{-2,  1},
				{-1, -1},
				{ 2,  2}
			},
			/* R -> 0 */
			{
				{ 1,  1},
				{-1,  1},
				{ 2,  2},
				{-2,  2},
				{ 2, -2}
			}
		}
	}
	/* O doesnt spin */
};

